# Telegram Chat Export Analyzer Bot

**Описание проекта**  
Это бот для Telegram, который позволяет обрабатывать экспорт истории чата (JSON и HTML) и формировать отчёты о пользователях, упоминаниях и каналах. При большом количестве участников данные формируются в Excel-файл, при меньшем — выводятся текстом в чате. Бот также может обогащать данные пользователей с помощью Telethon, добавляя username, bio, дату рождения и ссылку на личный канал.

---

## Функциональные возможности

1. Принимает до 10 файлов с историей чата Telegram.
2. Поддерживает форматы:
   - JSON (экспорт из Telegram Desktop)
   - HTML (экспорт из Telegram Desktop)
3. Обрабатывает участников чата:
   - Дедубликация участников между файлами
   - Корреляция данных между JSON и HTML
4. Обрабатывает упоминания пользователей и ссылки на каналы.
5. Обогащает участников через Telethon API:
   - username
   - описание
   - дата рождения
   - личный канал
6. Формирует отчёты:
   - Excel для большого количества участников (>50)
   - Текстовое сообщение в чате для небольшого количества участников (<50)

---

## Установка и запуск

1. Клонируйте репозиторий:

```bash
git clone https://github.com/your-repo/tg-chat-analyzer.git
cd tg-chat-analyzer
```

2. Создайте виртуальное окружение и установите зависимости:
```bash

python -m venv .venv
source .venv/bin/activate  # Linux / macOS
.venv\Scripts\activate     # Windows
pip install -r requirements.txt
```

3. Настройте конфигурацию в config.py:
```bash
BOT_TOKEN = "ВАШ_TELEGRAM_BOT_TOKEN"
MAX_FILES = 10
```
4. Запустите бота:

```bash
python bot.py
```

Пример использования

Отправьте боту команду /start.

Пришлите экспортированные файлы JSON и HTML.

Введите команду /process.

Если участников <50 — бот выводит список текстом.
Если участников ≥50 — бот формирует Excel и отправляет его.

Требования:
```bash
Python 3.10+
pyTelegramBotAPI
Telethon
pandas
openpyxl
beautifulsoup4
lxml
```